(this["webpackJsonppicassos-grid"]=this["webpackJsonppicassos-grid"]||[]).push([[0],{58:function(e,t,i){},59:function(e,t,i){},60:function(e,t,i){},62:function(e,t,i){},64:function(e,t,i){},65:function(e,t,i){},66:function(e,t,i){"use strict";i.r(t);var n=i(1),o=i.n(n),c=i(22),a=i.n(c),r=(i(58),i(23)),l=i(16),s=(i(59),i(60),i(0)),g=function(e){return Object(s.jsx)("header",{className:"Header",children:e.title})},d=o.a.createContext({imageFile:void 0,setImageFile:function(e){return console.log("No image file")}}),f=function(){return Object(n.useContext)(d)},u=(i(62),function(e){var t=f(),i=(t.imageFile,t.setImageFile);return Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"file",className:"inputFile",name:"imageChooser",id:"imageChooser",onChange:function(t){var n;if(t.persist(),t.target.files&&(null===(n=t.target.files)||void 0===n?void 0:n.length)>0){var o=URL.createObjectURL(t.target.files[0]),c=new Image;c.src=o,c.onload=function(){i({file:o,loaded:!0,height:c.height,width:c.width});var t={grid:{height:c.height,width:c.width,pixels:e.config.grid.pixels,opacity:e.config.grid.opacity}};e.setConfig(t)}}},accept:"image/png, image/jpeg"}),Object(s.jsx)("label",{htmlFor:"imageChooser",children:"Choose image"})]})}),p=i(2),h=(i(64),function(e){var t=f().imageFile,i=function(e,t){var i=Object(n.useRef)();return o.a.useEffect((function(){return e(p.d(i.current)),function(){}}),t),i}((function(i){var n=e.config.grid.height+100,o=e.config.grid.width+100,c=50,a=50,r=o-a-c,l=n-50-50,s=r/e.config.grid.pixels,g=l/e.config.grid.pixels,d=p.c().domain([0,s]).range([0,r]),f=p.c().domain([0,g]).range([l,0]),u=p.a(d).tickSize(-l).ticks(s),h=p.b(f).tickSize(-r).ticks(g),j=function(e,t,i,n){m.text(i+": "+n).style("opacity",1).style("visibility","visible").style("top",t-10+"px").style("left",e+10+"px")},x=function(){m.transition().duration(1e3).style("opacity",0)};i.selectAll("*").remove();var m=p.d("#tooltip");i.attr("height",n-50).attr("width",o),i.append("image").attr("xlink:href",null===t||void 0===t?void 0:t.file).attr("height",l).attr("width",r).attr("x",c).attr("y",0);var b=i.append("g").attr("class","x axis-grid").attr("transform","translate(50,"+l+")").style("color",e.config.grid.color).call(u);b.selectAll("text").style("text-anchor","end").attr("dx","1.5em").attr("dy",".15em").attr("transform","rotate(90)"),b.selectAll("line").on("mouseover",(function(e,t){j(e.pageX,e.pageY,"X",t)})).on("mouseout",(function(e){x()})).style("opacity",e.config.grid.opacity),i.append("g").attr("class","y axis-grid").attr("transform","translate("+a+", 0)").style("color",e.config.grid.color).call(h).selectAll("line").on("mouseover",(function(e,t){j(e.pageX,e.pageY,"Y",t)})).on("mouseout",(function(e){x()})).style("opacity",e.config.grid.opacity).selectAll("text").style("text-anchor","end")}),[e]);return Object(s.jsx)("div",{children:Object(s.jsx)("svg",{ref:i})})}),j=(i(65),function(e){return Object(s.jsxs)("div",{className:"control-panel",children:[Object(s.jsx)("label",{htmlFor:"pixels",children:"Pixels"}),Object(s.jsx)("input",{type:"number",id:"pixels",name:"pixels",value:e.config.grid.pixels,min:"1",max:"100",onChange:function(t){var i=Object.assign({},e.config);i.grid.pixels=parseInt(t.target.value),e.updateConfig(i)}}),Object(s.jsx)("label",{htmlFor:"opacity",children:"Opacity"}),Object(s.jsx)("input",{type:"number",id:"opacity",name:"opacity",value:e.config.grid.opacity,min:"0",max:"1",step:"0.1",onChange:function(t){var i=Object.assign({},e.config);i.grid.opacity=parseFloat(t.target.value),e.updateConfig(i)}}),Object(s.jsx)("label",{htmlFor:"color",children:"Color"}),Object(s.jsxs)("select",{name:"color",id:"color",value:e.config.grid.color,onChange:function(t){var i=Object.assign({},e.config);i.grid.color=t.target.value,e.updateConfig(i)},children:[Object(s.jsx)("option",{value:"#000000",children:"Black"}),Object(s.jsx)("option",{value:"#ffffff",children:"White"})]})]})});var x=function(){var e=o.a.useState({file:void 0,loaded:!1,height:0,width:0}),t=Object(l.a)(e,2),i=t[0],c=t[1],a=Object(n.useState)({grid:{width:i.width,height:i.height,pixels:20,opacity:.5,color:"#000000"}}),f=Object(l.a)(a,2),p=f[0],x=f[1],m=function(e){x(Object(r.a)({},e))};return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(g,{title:"Picasso's Grid"}),Object(s.jsx)(d.Provider,{value:{imageFile:i,setImageFile:c},children:Object(s.jsxs)("section",{children:[i.loaded&&Object(s.jsx)(h,{config:p,updateConfig:m}),Object(s.jsx)(j,{config:p,updateConfig:m}),Object(s.jsx)(u,{config:p,setConfig:x})]})}),Object(s.jsx)("div",{id:"tooltip",className:"tooltip"})]})},m=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,67)).then((function(t){var i=t.getCLS,n=t.getFID,o=t.getFCP,c=t.getLCP,a=t.getTTFB;i(e),n(e),o(e),c(e),a(e)}))};a.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(x,{})}),document.getElementById("root")),m(console.log)}},[[66,1,2]]]);
//# sourceMappingURL=main.f7b5106a.chunk.js.map